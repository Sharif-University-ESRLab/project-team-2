\section{طراحی و پیاده‌سازی سخت‌افزار}

اصلی‌ترین قسمت این پروژه، طراحی و پیاده‌سازی قسمت‌های سخت‌افزاری آن است. در زیر لیستی از قطعات سخت‌افزاری مورد استفاده آمده است و پس‌ از آن توضیحاتی در مورد هر یک از سنسور‌ها و نحوه کارکرد و راه‌اندازی آن ذکر شده است.


\begin{itemize}
	\item برد \lr{Raspberry Pi 4}
	\item برد \lr{Arduino UNO}
	\item صفحه نمایش لمسی ۷ اینچ مخصوص \lr{Raspberry Pi}
	\item سنسور آلودگی هوا \lr{MQ135}
	\item سنسور دما و رطوبت هوا \lr{DHT11}
	\item سنسور ضربان قلب و اکسیژن‌ خون \lr{Max30102}
	\item سنسور دمای بدن \lr{Max30205}
	\item سنسور نوار قلب \lr{AD8232}
	\item فشار سنج و گوشی پزشکی
\end{itemize}


\subsection{سنسورهای محیطی}

د, سنسور محیطی اصلی در این پروژه وجود دارند. سنسور \lr{MQ135} که وظیفه اندازه‌گیری آلودگی هوا را داشته و سنسور \lr{DHT11} که وظیفه اندازه‌گیری دما و رطوبت را دارد. سنسور آلودگی‌هوا به آردوینو متصل شده و سنسور اندازه‌گیری دما و رطوبت هوا مستقیما به رزبری‌پای متصل می‌شود.


\subsubsection{سنسور دما و رطوبت‌هوا}

سنسور مورد استفاده برای این بخش، \lr{DHT11} است که از قابلیت انتقال داده به صورت دیجیتال پشتیبانی کرده و برای همین به راحتی مطابق شکل \ref{fig:2} به رزبری‌پای متصل می‌شود.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/dht11.jpg}
	
	\caption{اتصال سنسور DHT11}
	\label{fig:2}
\end{figure}


کد اصلی مربوط به این قسمت در زیر آمده است:

\begin{latin}
\begin{lstlisting}[language=python]
	print("hello")
\end{lstlisting}
\end{latin}

\subsubsection{سنسور آلودگی‌هوا}

با توجه به این که  سنسور \lr{MQ135} خروجی اصلی خود را به صورت آنالوگ تحویل داده و حتی رابط I2C هم ندارد، آن را به برد آردوینو متصل کرده و از طریق اتصال رزبری‌پای به آردوینو با پورت USB، کد مربوط به آن را از طریق رزبری به برد آردوینو انتقال داده و داده‌های لازم را دریافت می‌کنیم.

نحوه اتصال این سنسور در کنار سنسور قبلی در شکل \ref{fig:3} قرار دارد.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/dhtmq2.jpg}
	
	\caption{اتصال سنسور MQ135}
	\label{fig:3}
\end{figure}

کد اصلی مربوط به این قسمت در زیر آمده است:

\begin{latin}
	\begin{lstlisting}[language=python]
		print("hello")
	\end{lstlisting}
\end{latin}


\subsection{سنسورهای بدن}

سه سنسور اصلی برای علائم مربوط به بدن انسان در این پروژه وجود دارند. سنسور دمای بدن \lr{Max30205}، سنسور  ضربان قلب و اکسیژن خون \lr{Max30102} و سنسور نوار قلب یعنی \lr{AD8232}. سنسور \lr{Max30102} مستقیما به رزبری‌پای متصل می‌شود ولی دو سنسور دیگر از طریق آردوینو با رزبری‌پای ارتباط برقرار می‌کنند.


\subsubsection{سنسور دمای بدن}

برای سنجش دمای بدن از سنسور \lr{Max30205} استفاده شده است. با تماس انگشت به آن، بعد از مدتی دمای سنسور با دمای انگشت همدما شده و دمای بدن را نشان خواهد داد. در صورت عدم تماس هم می‌توان از آن برای مشاهده دمای محیط استفاده کرد.

این سسنور به آردوینو متصل شده و از طریق اتصال آردوینو به رزبری‌پای، اطلاعات آن را مشاهده می‌کنیم. در شکل \ref{fig:4} تصویر اتصال این سنسور قرار دارد.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/max30205.jpg}
	
	\caption{اتصال سنسور Max30205}
	\label{fig:4}
\end{figure}
کد اصلی مربوط به این قسمت در زیر آمده است:



\begin{latin}
	\begin{lstlisting}[language=python]
		print("hello")
	\end{lstlisting}
\end{latin}



\subsubsection{سنسور ضربان قلب و اکسیژن خون}

برای این بخش از سنسور \lr{Max30102} استفاده شده است. این سنسور با کمک دو چراغ کوچک قرمز و مادون قرمز، ضربان قلب و درصد اشباع اکسیژن در خون (\lr{SpO2}) را اندازه‌گیری می‌کند. این سنسور بدون مشکل از طریق \lr{I2C} به رزبری‌پای متصل می‌شود. نحوه اتصال این سنسور را در شکل \ref{fig:5} مشاهده می‌کنید.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/max30102.jpg}
	
	\caption{اتصال سنسور Max30102}
	\label{fig:5}
\end{figure}

کد اصلی مربوط به این قسمت در زیر آمده است:

\begin{latin}
	\begin{lstlisting}[language=python]
		print("hello")
	\end{lstlisting}
\end{latin}

\subsubsection{سنسور نوار قلب}

از سنسور \lr{AD8232} برای بدست‌ آوردن \lr{ECG} (نوار قلب) استفاده می‌شود. همراه این سنسور بسته \lr{Lead} سه تایی اتصال به بدن وجود دارد. به این \lr{Lead} ها باید پد‌های مخصوص متصل شده و به بدن متصل شوند. برای استفاده از سنسور،‌ آن را به آردوینو متصل می‌کنیم. Lead های‌ آن هم باید مطابق شکل \ref{fig:6} به بدن بیمار متصل بشوند.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.25\textwidth]{figs/ecg.jpg}
	
	\caption{نحوه اتصال Lead‌ های سنسور نوار قلب به بدن}
	\label{fig:6}
\end{figure}

همچنین نحوه اتصال این سنسور به همراه دو سنسور دیگر بدن در شکل \ref{fig:7} قرار دارد.


\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/allbody.jpg}
	
	\caption{اتصال سنسورهای بدن به رزبری‌پای و آردوینو در کنار هم}
	\label{fig:7}
\end{figure}

کد اصلی مربوط به این قسمت در زیر آمده است:

\begin{latin}
	\begin{lstlisting}[language=python]
		print("hello")
	\end{lstlisting}
\end{latin}