\documentclass[12pt]{article}
\usepackage{graphicx,import}
\usepackage{float}
\usepackage[svgnames]{xcolor} 
\usepackage{makecell}
\usepackage{fancyhdr}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{cite}
\usepackage[many]{tcolorbox}
\usepackage{listings }
\usepackage[a4paper, total={6in, 8in} , bottom = 25mm , top = 25mm, headheight = 1.25cm , includehead,includefoot,heightrounded ]{geometry}
\usepackage{afterpage}
\usepackage{amssymb}
\usepackage{pdflscape}
\usepackage{gensymb}
\usepackage{textcomp}
\usepackage{tikz,pgfplots}
\usepackage{xecolor}
\usepackage{rotating}
\usepackage{pdfpages}
\usepackage[Kashida]{xepersian}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage[utf8]{inputenc}
\usepackage{PTSerif} 
\usepackage{seqsplit}
\usepackage{hhline}
\usepackage{pgfgantt}
\usepackage{graphicx}

\graphicspath{ {./images/} }

\renewcommand\theadalign{bc}
\renewcommand\theadfont{\bfseries}
\renewcommand\theadgape{\Gape[4pt]}
\renewcommand\cellgape{\Gape[4pt]}

\usepackage[edges]{forest}

\usepackage{listings}
\usepackage{xcolor}

\hypersetup{
	colorlinks   = true, %Colours links instead of ugly boxes
	urlcolor     = blue, %Colour for external hyperlinks
	linkcolor    = blue, %Colour of internal links
	citecolor   = red %Colour of citations
}
 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\NewDocumentCommand{\codeword}{v}{
\texttt{\textcolor{blue}{#1}}
}
\lstset{language=java,keywordstyle={\bfseries \color{blue}}}


\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\normalsize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

\settextfont[Scale=1.2 ,BoldFont={Bahij Nazanin-Bold} , ItalicFont = {IRNazanin}]{Bahij Nazanin-Regular}
\setlatintextfont[Scale = 1.0]{Garamond}
\DefaultMathsDigits 
\DeclareMathSizes{11}{19}{13}{9} 
%\DeclareMathSizes{12}{14.4}{8}{9}





\newenvironment{changemargin}[2]{%
\begin{list}{}{%
\setlength{\topsep}{0pt}%
\setlength{\leftmargin}{#1}%
\setlength{\rightmargin}{#2}%
\setlength{\listparindent}{\parindent}%
\setlength{\itemindent}{\parindent}%
\setlength{\parsep}{\parskip}%
}%
\item[]}{\end{list}}


\definecolor{foldercolor}{RGB}{124,166,198}

\tikzset{pics/folder/.style={code={%
    \node[inner sep=0pt, minimum size=#1](-foldericon){};
    \node[folder style, inner sep=0pt, minimum width=0.3*#1, minimum height=0.6*#1, above right, xshift=0.05*#1] at (-foldericon.west){};
    \node[folder style, inner sep=0pt, minimum size=#1] at (-foldericon.center){};}
    },
    pics/folder/.default={20pt},
    folder style/.style={draw=foldercolor!80!black,top color=foldercolor!40,bottom color=foldercolor}
}

\forestset{is file/.style={edge path'/.expanded={%
        ([xshift=\forestregister{folder indent}]!u.parent anchor) |- (.child anchor)},
        inner sep=1pt},
    this folder size/.style={edge path'/.expanded={%
        ([xshift=\forestregister{folder indent}]!u.parent anchor) |- (.child anchor) pic[solid]{folder=#1}}, inner xsep=0.6*#1},
    folder tree indent/.style={before computing xy={l=#1}},
    folder icons/.style={folder, this folder size=#1, folder tree indent=3*#1},
    folder icons/.default={12pt},
}

\begin{document}


%%% title pages
\begin{titlepage}
\begin{center}
        
\vspace*{0.7cm}

\includegraphics[width=0.4\textwidth]{sharif1.png}\\
\vspace{0.5cm}
\textbf{ \Huge{\emph ‌آزمایشگاه سخت‌افزار} }\\
\vspace{0.5cm}
\textbf{ \Large{ پروپوزال پروژه} }
\vspace{0.2cm}
       
 
      \large \textbf{دانشکده مهندسی کامپیوتر}\\\vspace{0.2cm}
    \large   دانشگاه صنعتی شریف\\\vspace{0.2cm}
       \large   ﻧﯿﻢ سال دوم 01-00 \\\vspace{0.2cm}
      \noindent\rule[1ex]{\linewidth}{1pt}
استاد:\\
    \textbf{{جناب آقای دکتر اجلالی}}


دستیار آموزشی:\\
\textbf{{جناب آقای فصحتی}}

    \vspace{0.25cm}
    
    موضوع پروژه:\\
    
    \textbf{{نمایشگر علائم حیاتی بیمار (پروژه شماره ۱۴)}}
    
    \vspace{0.35cm}
    
    
        شماره گروه:
    \textbf{{۲}}\\
    
اعضای گروه:\\

    \textbf{{علیرضا تاج‌میرریاحی - 97101372}}
    \\
   
     \textbf{{امیرمهدی نامجو - 97107212}}   
   \\
   
    \textbf{{ صبا هاشمی  - 97100581}}
\end{center}
\end{titlepage}
%%% title pages


%%% header of pages
\newpage
\pagestyle{fancy}
\fancyhf{}
\fancyfoot{}
\cfoot{\thepage}
\chead{}
\rhead{\includegraphics[width=0.1\textwidth]{sharif.png}}
\lhead{پروپوزال پروژه}
%%% header of pages

\newfontfamily\terminal{Courier New Bold}

\KashidaOff
 \newcommand{\inlineLatin}[1]{
	\small{\lr{{\terminal #1}}}
}


\section{مقدمه}


هدف از این پروژه، طراحی سیستم نمایشگر هوشمند علائم حیاتی بیمار و شرایط محیطی است. هسته این سیستم که از رزبری پای تشکیل شده است، اطلاعات حیاتی بیمار شامل دمای بدن، فشار خون، ضربان قلب، اکسیژن خون و نوار قلب (\lr{ECG}) را از طریق سنسور‌های مربوطه از بیمار دریافت کرده و در کنار آن، اطلاعات محیطی نظیر دما،‌ رطوبت و میزان آلودگی هوا را هم از طریق سنسورهایی دیگر دریافت می‌کند.

برای ارتباط برقرار کردن با این داده‌ها، رابط کاربری برای نمایشگر رزبری پای و همچنین رابط کاربری موبایل تهیه خواهد شد که پرستار یا پزشک از طریق آن بتوانند به داده‌های بیمار دسترسی پیدا کنند. همچنین این داده‌ها در فواصل زمانی معین به یک سرور ارسال شده و برای آنالیزهای بعدی و همچنین حفظ تاریخچه بیماران، در دیتابیس ذخیره می‌شوند.



\begin{table}[H]
	\centering
	\begin{tabular}{|l|l|l|} 
		\hline
		\makecell{\textbf{ردیف}} & \makecell{\textbf{ویژگی}}                                         & \makecell{\textbf{توضیحات}}                                                                                         \\ 
		\hhline{|===|}
		۱             & \makecell{\textbf{ثبت علائم حیاتی}}                               &
		\makecell{
		 علائم حیاتی کاربر شامل اکسیژن خون،\\ فشار خون، ضربان قلب و \lr{ECG} توسط سنسورها\\ دریافت و ثبت می‌شود.}           \\ 
		\hline
		۲             & \makecell{ \textbf{ثبت شرایط محیطی}    }                           & \makecell{
		 شرایط محیطی کاربر شامل دما، رطوبت\\ و میزان آلودگی هوا توسط سنسورها\\ دریافت و ثبت می‌شود.}                   \\ 
		\hline
		
		۳             & \makecell{\textbf{نمایش وضعیت کاربر و}\\  \textbf{ شرایط محیط روی صفحه نمایش}}
		  &
		 \makecell{
		  علائم حیاتی کاربر و شرایط محیطی روی نمایشگر\\ به طور زنده نشان داده می‌شود.}                                \\ 
		\hline
		۴             &
		 \makecell{\textbf{اتصال به اپلیکیشن}}                             &
		\makecell{
		 با استفاده از یک اپلیکیشن موبایل می‌توان\\ به دستگاه متصل شد و وضعیت کاربر\\ را از طریق موبایل مانیتور کرد.}  \\ 
		\hline
		۵             &
		\makecell{\textbf{مشاهده ارتباط علائم حیاتی و} \\ \textbf{شرایط محیطی}}     &
		\makecell{
		 در اپلیکیشن موبایل می‌توان نمودارهای\\ وضعیت کاربر و شرایط محیطی را در کنار هم\\ مشاهده و بررسی کرد.}         \\ 
		\hline
		۶             & \makecell{\textbf{تاریخچه استفاده}}                               &
		\makecell{
		 امکان مشاهده‌ی تاریخچه‌ی مقادیر سنسورها\\ در اپلیکیشن یا پنل ادمین وجود دارد.}                              \\
		\hline
	\end{tabular}
\caption{\label{features}جدول ویژگی‌های اصلی محصول}
\end{table}



\newpage
\section{روش انجام پروژه}

\subsection{بررسی کلی پروژه}
در این پروژه از برد رزبری پای $3$ استفاده خواهد شد. سنسورهای مربوط به بدن و هم‌چنین سنسورهای محیطی به این برد متصل می‌شوند و از طریق رزبری اطلاعات آن‌ها پردازش و از طریق وای‌فای به سرور ارسال می‌شود. 

سرور با استفاده از زبان پایتون و فریم‌ورک \lr{Django} زده می‌شود. وظیفه‌ی آن این است که اطلاعات را از رزبری دریافت و در دیتابیس ذخیره کند. دیتابیس مورداستفاده \lr{MySQL} خواهد بود. هم‌چنین سرور API های لازم برای دریافت اطلاعات را نیز در اختیار اپلیکیشن موبایل قرار می‌دهد.

در اپلیکیشن موبایل علائم حیاتی کاربر و شرایط محیطی در لحظه‌ی فعلی و هم چنین در طول یک بازه 

قابل مشاهده خواهد بود. برای پیاده‌سازی اپلیکیشن از فریم‌ورک \lr{React Native} استفاده می‌شود.

هم چنین یک نمایشگر نیز به برد رزبری متصل خواهد بود و مقادیر ثبت شده توسط سنسورها را نشان می‌دهد. با توجه به \lr{Multiplatform} بودن فریم‌ورک 
\lr{React Native}
و امکان استفاده آن بر روی دسکتاپ و وب، برای رابط کاربری این قسمت نیز از همین فریم‌ورک استفاده خواهد شد.


\subsection{سنسورها}

\subsubsection{دما و رطوبت}
برای ثبت دما و رطوبت از سنسور \lr{KY-015} استفاده می‌کنیم که چیپست مورد استفاده در آن \lr{DHT11} است. 

دقت این سنسور برای دما $\pm2$ درجه سانتی‌گراد و دقت آن برای رطوبت $\pm 5\% \text{RH}$ است. نرخ نمونه‌برداری آن نیز هر $2$ ثانیه یک بار است. این دقت و این نرخ نمونه‌برداری نیازی که ما در این پروژه داریم را رفع می‌کند و برای همین نیازی به هزینه‌ی بیشتر برای سنسورهای با نرخ نمونه‌برداری یا دقت بیشتر نیست.

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=0.3\textwidth]{KY-015}
	\end{center}
	\caption{KY-015}
\end{figure}


پروتوکل ارتباطی این سنسور تک سیم است و مقادیر دما و رطوبت را به طور دیجیتال انتقال می‌دهد و نیاز به قطعه‌‌ی دیگری برای 
اتصال به رزبری ندارد و به شکل زیر به رزبری متصل می‌شود:


\begin{figure}[h]
	\begin{center}
		\includegraphics[width=0.3\textwidth]{KY-015-raspberry}
	\end{center}
	\caption{اتصال KY-015 به رزبری}
\end{figure}


\subsubsection{ECG}

برای مانیتور وضعیت قلب از قطعه‌ی \lr{AD8232} استفاده می‌کنیم. این قطعه فعالیت الکتریکی قلب را اندازه‌گیری می‌کند و خروجی آن می‌تواند به صورت مقادیر آنالوگ یا برای رسم \lr{ECG} مورد استفاده قرار بگیرد. در نتیجه در کنار این قطعه نیاز به یک مبدل آنالوگ به دیجیتال داریم. 


\begin{figure}[h]
	\begin{center}
		\includegraphics[width=0.3\textwidth]{AD8232}
	\end{center}
	\caption{AD8232}
\end{figure}

هم‌چنین برای استفاده و تست آن نیاز به سه الکترود و تعدادی پد برای اتصال به بدن داریم.





\newpage
\section{زمان‌بندی}
\begin{figure}[tbp]
	
	\begin{center}
		\begin{ganttchart}[
			expand chart=1\textwidth,
		    vrule label font=\tiny,
			title label font=\tiny, 
			bar label font=\tiny, 
			y unit title=1cm,
			y unit chart=0.8cm,
			x unit=1cm,
			vgrid,hgrid, 
			title label anchor/.style={below=-1.6ex},
			title left shift=0,
			title right shift=0,
			title height=1,
			progress label text={},
			bar height=0.6,
			group right shift=0,
			group top shift=.5,
			group height=.2]{3}{16}
			%labels
			\gantttitle{اسفند}{2}
			\gantttitle{فروردین}{4}
			\gantttitle{اردی‌بهشت}{4}
			\gantttitle{خرداد}{4}
			\\

			\gantttitle{\rl{هفته ۳}}{1} 			
			\gantttitle{\rl{هفته ۴}}{1} 
			\gantttitle{\rl{هفته ۱}}{1} 
			\gantttitle{\rl{هفته ۲}}{1} 
			\gantttitle{\rl{هفته ۳}}{1} 
			\gantttitle{\rl{هفته ۴}}{1} 
			\gantttitle{\rl{هفته ۱}}{1} 
			\gantttitle{\rl{هفته ۲}}{1} 
			\gantttitle{\rl{هفته ۳}}{1} 
			\gantttitle{\rl{هفته ۴}}{1} 
			\gantttitle{\rl{هفته ۱}}{1} 
			\gantttitle{\rl{هفته ۲}}{1} 
			\gantttitle{\rl{هفته ۳}}{1} 
			\gantttitle{\rl{هفته ۴}}{1} 

%			\gantttitle{۰۸}{1} 
%			\gantttitle{۱۵}{1} 
%			\gantttitle{۲۲}{1} 
%			\gantttitle{۰۱}{1} 
%			\gantttitle{۰۸}{1} 
%			\gantttitle{۱۵}{1} 
%			\gantttitle{۲۲}{1} 
%			\gantttitle{۰۱}{1} 
%			\gantttitle{۰۸}{1} 
%			\gantttitle{۱۵}{1} 
%			\gantttitle{۲۲}{1} 
%			\gantttitle{۰۱}{1} 
%			\gantttitle{۰۸}{1} 
%			\gantttitle{۱۵}{1} 
%			\gantttitle{۲۲}{1} 
			%
			\\
			%tasks
			\ganttbar[progress=0]{\rl{نهایی کردن پروپوزال}}{3}{4} \\
			\ganttbar[progress=0]{\rl{تهیه‌ی قطعات}}{4}{6} \\
			\ganttbar[progress=0]{\rl{آشنایی با رزبری}}{5}{6} \\
			\ganttbar[progress=0]{\rl{تهیه معماری کامل سیستم}}{5}{6} \\
			\ganttgroup{\rl{سرور}}{6}{13} \\
			\ganttbar[progress=0]{\rl{بیسیک سرور}}{6}{7} \\	
			\ganttbar[progress=0]{\rl{اتصال رزبری و سرور}}{8}{9} \\
			\ganttbar[progress=0]{\rl{تکمیل سرور}}{10}{13} \\
			
			\ganttgroup{\rl{اپ موبایل}}{6}{13} \\
			\ganttbar[progress=0]{\rl{بیسیک اپ موبایل}}{6}{7} \\
			\ganttbar[progress=0]{\rl{اتصال اپ موبایل به سرور}}{8}{8} \\
			\ganttbar[progress=0]{\rl{رسم نمودارها و قابلیت‌های اضافه}}{9}{13} \\

			\ganttgroup{\rl{سخت‌افزار}}{7}{12} \\
			\ganttbar[progress=0]{\rl{اتصال و تست سنسورهای محیطی}}{7}{8} \\
			\ganttbar[progress=0]{\rl{اتصال و تست سنسورهای بدن}}{9}{12} \\
			
			\ganttbar[progress=0]{\rl{تست کلی سیستم}}{13}{14} \\
			
			\ganttbar[progress=0]{\rl{بررسی بازخوردها}}{15}{15}
			
			%relations 
			\ganttlink{elem0}{elem1} 
			\ganttlink{elem0}{elem3} 
			\ganttlink{elem0}{elem4} 
			\ganttlink{elem0}{elem8} 
			\ganttlink{elem1}{elem12}
			\ganttlink{elem3}{elem12} 			 
			\ganttlink{elem4}{elem15} 
			\ganttlink{elem8}{elem15}
			\ganttlink{elem12}{elem15} 
			\ganttlink{elem15}{elem16} 
			
			\ganttlink{elem5}{elem6} 
			\ganttlink{elem6}{elem7} 

			\ganttlink{elem5}{elem10}	
			
			\ganttlink{elem9}{elem10}	
			\ganttlink{elem10}{elem11} 
 
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{پروپوزال}}{4}
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{گزارش اول}}{6}
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{گزارش دوم}}{8}
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{گزارش سوم}}{10}
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{گزارش چهارم}}{12}	
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{گزارش اولیه}}{14}
			\ganttvrule[vrule/.append style={blue, thin},vrule offset=1]{\rl{گزارش نهایی}}{15}
		\end{ganttchart}
	\end{center}
	\caption{گانت چارت پروژه}
	

\end{figure}


\end{document}



